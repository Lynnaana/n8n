<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Assistant IA pour n8n</title>
  <!-- On charge la feuille de style principale -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- FenÃªtre modale pour renseigner lâ€™URL de n8n lors de la premiÃ¨re utilisation -->
  <div id="settings-modal" class="modal hidden">
    <div class="modal-content">
      <h2>Configurer n8n</h2>
      <p>Entrez lâ€™URL de votre instance n8n (exÂ : http://localhost:5678)Â :</p>
      <input type="text" id="n8n-url-input" placeholder="http://localhost:5678">
      <p>Chemin de votre webhook (exÂ : /webhook/chat)Â :</p>
      <input type="text" id="webhook-path-input" placeholder="/webhook/ai-agent">
      <button id="save-settings">Enregistrer</button>
    </div>
  </div>

  <!-- En-tÃªte -->
  <header>
    <h1>Agent IA connectÃ© Ã  n8n</h1>
    <div id="n8n-status">Instance n8nÂ : <span id="n8n-url-display">Non configurÃ©e</span></div>
    <button id="edit-settings" class="link-button">Modifier lâ€™URL n8n</button>
  </header>

  <!-- Conteneur principal -->
  <div class="main-container">
    <!-- Zone de chat -->
    <section id="chat-section">
      <div id="chat-window">
        <!-- Les messages seront injectÃ©s ici dynamiquement -->
      </div>
      <div id="input-area">
        <textarea id="user-input" placeholder="Envoyer un messageâ€¦" rows="2"></textarea>
        <div class="input-actions">
          <label for="file-input" class="file-label">ðŸ“Ž Ajouter des fichiers</label>
          <input type="file" id="file-input" multiple class="hidden">
          <button id="send-button">Envoyer</button>
        </div>
      </div>
    </section>
    <!-- Zone de visualisation des workflows n8n -->
    <aside id="workflow-section">
      <h2>Workflows n8n</h2>
      <p>Cette section affiche la liste des workflows et leurs Ã©tats aprÃ¨s chaque action.</p>
      <div id="workflow-list">
        <!-- Les workflows seront affichÃ©s ici -->
      </div>
    </aside>
  </div>

  <!-- Script principal -->
  <script src="script.js"></script>
</body>
</html>